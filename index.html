<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Tiago Pontes - 2025</title>
    <style>
        /* [Manter todo o CSS anterior igual] */
    </style>
</head>
<body>
    <!-- [Manter todo o HTML anterior igual] -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // [Manter as funções mostrarAba() e criarLegenda() iguais]

        // Configurações comuns para os gráficos de doughnut
        const optionsDoughnut = {
            cutout: '40%',
            plugins: {
                legend: {
                    display: false
                }
            }
        };

        // Dados de Janeiro
        criarGraficosMes('Jan', {
            atividades: { labels: ['Reuniões', 'Tarefas Rotineiras'], data: [18, 20], cores: ['#FF6384', '#36A2EB'] },
            reunioes: { labels: ['Virtuais', 'Presenciais'], data: [2, 16], cores: ['#FFCE56', '#4BC0C0'] },
            setores: { labels: ['Jurídico', 'Administrativo'], data: [2, 0], cores: ['#9966FF', '#FF9F40'] },
            cidades: { labels: ['São Paulo', 'Brasília', 'Recife'], data: [1, 8, 9], cores: ['#8AC249', '#FAA43A', '#5DA5DA'] }
        });

        // Dados de Fevereiro (com seus valores)
        criarGraficosMes('Fev', {
            atividades: { labels: ['Reuniões', 'Tarefas Rotineiras'], data: [19, 22], cores: ['#FF6384', '#36A2EB'] },
            reunioes: { labels: ['Virtuais', 'Presenciais'], data: [4, 15], cores: ['#FFCE56', '#4BC0C0'] },
            setores: { labels: ['Jurídico', 'Administrativo'], data: [0, 1], cores: ['#9966FF', '#FF9F40'] },
            cidades: { labels: ['São Paulo', 'Brasília', 'Recife'], data: [0, 6, 10], cores: ['#8AC249', '#FAA43A', '#5DA5DA'] }
        });

        // Dados de Março (com seus valores)
        criarGraficosMes('Mar', {
            atividades: { labels: ['Reuniões', 'Tarefas Rotineiras'], data: [24, 31], cores: ['#FF6384', '#36A2EB'] },
            reunioes: { labels: ['Virtuais', 'Presenciais'], data: [14, 10], cores: ['#FFCE56', '#4BC0C0'] },
            setores: { labels: ['Jurídico', 'Administrativo'], data: [0, 1], cores: ['#9966FF', '#FF9F40'] },
            cidades: { labels: ['São Paulo', 'Brasília', 'Recife'], data: [3, 8, 10], cores: ['#8AC249', '#FAA43A', '#5DA5DA'] }
        });

        // FUNÇÃO CORRIGIDA - Aqui estava o erro principal
        function criarGraficosMes(mes, dados) {
            // Gráfico 1 - Distribuição de Atividades (Doughnut)
            new Chart(document.getElementById(`graficoAtividades${mes}`), {
                type: 'doughnut',
                data: {
                    labels: dados.atividades.labels,
                    datasets: [{
                        data: dados.atividades.data,
                        backgroundColor: dados.atividades.cores,
                        borderWidth: 1
                    }]
                },
                options: optionsDoughnut
            });

            // Gráfico 2 - Segmentação das Reuniões (Doughnut)
            new Chart(document.getElementById(`graficoReunioes${mes}`), {
                type: 'doughnut',
                data: {
                    labels: dados.reunioes.labels,
                    datasets: [{
                        data: dados.reunioes.data,
                        backgroundColor: dados.reunioes.cores,
                        borderWidth: 1
                    }]
                },
                options: optionsDoughnut
            });

            // Gráfico 3 - Reuniões por Setor (Doughnut)
            new Chart(document.getElementById(`graficoSetores${mes}`), {
                type: 'doughnut',
                data: {
                    labels: dados.setores.labels,
                    datasets: [{
                        data: dados.setores.data,
                        backgroundColor: dados.setores.cores,
                        borderWidth: 1
                    }]
                },
                options: optionsDoughnut
            });

            // Gráfico 4 - Dias por Cidade (Colunas)
            new Chart(document.getElementById(`graficoCidades${mes}`), {
                type: 'bar',
                data: {
                    labels: dados.cidades.labels,
                    datasets: [{
                        label: 'Dias',
                        data: dados.cidades.data,
                        backgroundColor: dados.cidades.cores,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Criar legendas
            criarLegenda(`legendaAtividades${mes}`, dados.atividades.labels, dados.atividades.cores);
            criarLegenda(`legendaReunioes${mes}`, dados.reunioes.labels, dados.reunioes.cores);
            criarLegenda(`legendaSetores${mes}`, dados.setores.labels, dados.setores.cores);
        }
    </script>
</body>
</html>
